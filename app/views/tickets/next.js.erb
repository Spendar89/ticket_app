var ticket = $('#'+'<%= @game[:id] %>');
<% if @next == 'true' %>
	changeSpan();
	ticket.parents('.ticket_spacer').css('overflow', 'visible');
	ticket.parents('.ticket_spacer').css('overflow', 'hidden');
	ticket.removeAttr('style');
	ticket.css('position', 'relative');
	ticket.css('left', '0px');
	ticket.animate({left: '-=100%'}, 400, function() {
	    $(this).css('left', '100%');
		$(this).html("<%=j render :partial => 'searches/ticket', :locals => {:game => @game, :game_data => @game_data, :price_min => @price_min, :price_max => @price_max, :number => @number} %>")
		$(".flip-container").show();
		colorBorders();
		flipper();
		seatView();
		setTimeout(function (){
			ticket.animate({left: '-=100%'}, 400, function() { ticket.parents('.ticket_spacer').css('overflow', 'visible'); });
		}, 200);
		
	  });
<% else %>
	changeSpan();
	ticket.parents('.ticket_spacer').css('overflow', 'visible');
	ticket.parents('.ticket_spacer').css('overflow', 'hidden');
	ticket.removeAttr('style');
	ticket.css('position', 'relative');
	ticket.css('right', '0px');
	ticket.animate({right: '-=100%'}, 400, function() {
		$(this).css('right', '100%');
		$(this).html("<%=j render :partial => 'searches/ticket', :locals => {:game => @game, :game_data => @game_data, :price_min => @price_min, :price_max => @price_max, :number => @number} %>")
		$(".flip-container").show();
		colorBorders();
		flipper();
		seatView();
		setTimeout(function (){
			ticket.animate({right: '-=100%'}, 400, function() { ticket.parents('.ticket_spacer').css('overflow', 'visible'); });
		}, 200);			
	  });
	
<% end %>

